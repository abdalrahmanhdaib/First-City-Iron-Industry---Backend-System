// scripts/seedDatabase.js - Database Seeder
const mongoose = require('mongoose');
const bcrypt = require('bcryptjs');
require('dotenv').config();

// Connect to MongoDB
mongoose.connect(process.env.MONGODB_URI || 'mongodb://localhost:27017/first_city_iron');

// Models (simplified for seeding)
const User = mongoose.model('User', {
  username: String,
  email: String,
  password: String,
  role: String,
  createdAt: { type: Date, default: Date.now }
});

const Product = mongoose.model('Product', {
  name: String,
  nameEn: String,
  description: String,
  descriptionEn: String,
  category: String,
  specifications: Object,
  images: [String],
  price: Number,
  inStock: Boolean,
  featured: Boolean,
  createdAt: { type: Date, default: Date.now }
});

const NewsUpdate = mongoose.model('NewsUpdate', {
  title: String,
  titleEn: String,
  content: String,
  contentEn: String,
  author: String,
  published: Boolean,
  featured: Boolean,
  tags: [String],
  createdAt: { type: Date, default: Date.now }
});

async function seedDatabase() {
  try {
    console.log('ğŸŒ± Starting database seeding...');

    // Clear existing data
    await User.deleteMany({});
    await Product.deleteMany({});
    await NewsUpdate.deleteMany({});

    // Create admin user
    const hashedPassword = await bcrypt.hash('admin123456', 12);
    const adminUser = new User({
      username: 'admin',
      email: 'admin@firstcityiron.com',
      password: hashedPassword,
      role: 'admin'
    });
    await adminUser.save();
    console.log('âœ… Admin user created');

    // Seed products
    const products = [
      {
        name: 'Ù‚Ø¶Ø¨Ø§Ù† Ø­Ø¯ÙŠØ¯ Ø§Ù„ØªØ³Ù„ÙŠØ­ Ø§Ù„Ø®Ø±Ø³Ø§Ù†ÙŠØ©',
        nameEn: 'Concrete Reinforcement Steel Bars',
        description: 'Ù‚Ø¶Ø¨Ø§Ù† Ø­Ø¯ÙŠØ¯ Ø§Ù„ØªØ³Ù„ÙŠØ­ Ø§Ù„Ø®Ø±Ø³Ø§Ù†ÙŠØ© Ø¹Ø§Ù„ÙŠØ© Ø§Ù„Ø¬ÙˆØ¯Ø© Ø¨Ø£Ù‚Ø·Ø§Ø± Ù…Ø®ØªÙ„ÙØ© Ù…Ù† 10 Ù…Ù„Ù… Ø¥Ù„Ù‰ 32 Ù…Ù„Ù…ØŒ Ù…ØµÙ…Ù…Ø© Ù„ØªÙ„Ø¨ÙŠØ© Ù…Ø¹Ø§ÙŠÙŠØ± Ø§Ù„Ø¨Ù†Ø§Ø¡ Ø§Ù„Ø¯ÙˆÙ„ÙŠØ© ÙˆØªÙˆÙÙŠØ± Ø£Ù‚ØµÙ‰ Ù‚ÙˆØ© ÙˆÙ…ØªØ§Ù†Ø© Ù„Ù„Ù…Ø¨Ø§Ù†ÙŠ ÙˆØ§Ù„Ù…Ù†Ø´Ø¢Øª.',
        descriptionEn: 'High-quality concrete reinforcement steel bars with various diameters from 10mm to 32mm, designed to meet international construction standards and provide maximum strength and durability for buildings and structures.',
        category: 'reinforcement',
        specifications: {
          diameter: '10-32 Ù…Ù„Ù…',
          length: '6-12 Ù…ØªØ±',
          weight: 'Ø­Ø³Ø¨ Ø§Ù„Ù‚Ø·Ø±',
          standard: 'ASTM A615',
          grade: 'Grade 60'
        },
        price: 750,
        inStock: true,
        featured: true
      },
      {
        name: 'Ù‚Ø¶Ø¨Ø§Ù† Ø§Ù„Ø­Ø¯ÙŠØ¯ Ø§Ù„Ù…Ø¨Ø³Ø·',
        nameEn: 'Plain Steel Bars',
        description: 'Ù‚Ø¶Ø¨Ø§Ù† Ø­Ø¯ÙŠØ¯ Ù…Ø¨Ø³Ø· Ø¹Ø§Ù„ÙŠØ© Ø§Ù„Ø¬ÙˆØ¯Ø©ØŒ Ù…Ù†Ø§Ø³Ø¨Ø© Ù„Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…Ø§Øª Ø§Ù„ØµÙ†Ø§Ø¹ÙŠØ© ÙˆØ§Ù„Ø¥Ù†Ø´Ø§Ø¦ÙŠØ© Ø§Ù„Ù…Ø®ØªÙ„ÙØ© Ø¨Ù…ÙˆØ§ØµÙØ§Øª Ø¯ÙˆÙ„ÙŠØ© Ù…Ø¹ØªÙ…Ø¯Ø© ÙˆÙ‚ÙˆØ© ØªØ­Ù…Ù„ Ø¹Ø§Ù„ÙŠØ©.',
        descriptionEn: 'High-quality plain steel bars suitable for various industrial and construction applications with certified international specifications and high load-bearing capacity.',
        category: 'plain',
        specifications: {
          diameter: '6-25 Ù…Ù„Ù…',
          length: '6-12 Ù…ØªØ±',
          weight: 'Ø­Ø³Ø¨ Ø§Ù„Ù‚Ø·Ø±',
          standard: 'ASTM A36',
          grade: 'Commercial Grade'
        },
        price: 680,
        inStock: true,
        featured: true
      },
      {
        name: 'Ù‚Ø¶Ø¨Ø§Ù† Ø§Ù„Ø­Ø¯ÙŠØ¯ Ø§Ù„Ù…Ø±Ø¨Ø¹',
        nameEn: 'Square Steel Bars',
        description: 'Ù‚Ø¶Ø¨Ø§Ù† Ø­Ø¯ÙŠØ¯ Ø¨Ù…Ù‚Ø·Ø¹ Ù…Ø±Ø¨Ø¹ØŒ Ù…ØµÙ†Ø¹Ø© Ø¨Ø¯Ù‚Ø© Ø¹Ø§Ù„ÙŠØ© Ù„ØªÙ„Ø¨ÙŠØ© Ø§Ø­ØªÙŠØ§Ø¬Ø§Øª Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹ Ø§Ù„Ø¥Ù†Ø´Ø§Ø¦ÙŠØ© ÙˆØ§Ù„ØµÙ†Ø§Ø¹ÙŠØ© Ø§Ù„Ø®Ø§ØµØ©ØŒ Ù…Ø¹ Ø¶Ù…Ø§Ù† Ø§Ù„Ø¬ÙˆØ¯Ø© ÙˆØ§Ù„Ù…ØªØ§Ù†Ø©.',
        descriptionEn: 'Square cross-section steel bars, manufactured with high precision to meet the needs of special construction and industrial projects, with quality and durability guarantee.',
        category: 'square',
        specifications: {
          diameter: '10-30 Ù…Ù„Ù…',
          length: '6-12 Ù…ØªØ±',
          weight: 'Ø­Ø³Ø¨ Ø§Ù„Ù‚Ø·Ø±',
          standard: 'ASTM A36',
          grade: 'Structural Grade'
        },
        price: 720,
        inStock: true,
        featured: false
      }
    ];

    for (const productData of products) {
      const product = new Product(productData);
      await product.save();
    }
    console.log('âœ… Products seeded');

    // Seed news updates
    const newsUpdates = [
      {
        title: 'Ø§ÙØªØªØ§Ø­ Ø®Ø· Ø¥Ù†ØªØ§Ø¬ Ø¬Ø¯ÙŠØ¯',
        titleEn: 'New Production Line Opening',
        content: 'ØªØ¹Ù„Ù† Ø´Ø±ÙƒØ© Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰ Ù„ØµÙ†Ø§Ø¹Ø© Ø§Ù„Ø­Ø¯ÙŠØ¯ Ø¹Ù† Ø§ÙØªØªØ§Ø­ Ø®Ø· Ø¥Ù†ØªØ§Ø¬ Ø¬Ø¯ÙŠØ¯ ÙŠÙ‡Ø¯Ù Ø¥Ù„Ù‰ Ø²ÙŠØ§Ø¯Ø© Ø§Ù„Ø·Ø§Ù‚Ø© Ø§Ù„Ø¥Ù†ØªØ§Ø¬ÙŠØ©
